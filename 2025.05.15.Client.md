### 최신 진행 상황 (2025.05.15)

1. **패키지 및 클래스 구조 정리 완료**
    - `client`, `common` 패키지 생성 완료
    - `ClientMain`, `SocketManager`, `ClientState` 클래스 생성 및 연결 완료
      
2. **클라이언트 기본 로직 구현**
    - `SocketManager`: 서버와의 연결, 메시지 송수신, 연결 종료 기능 구현
    - `startReceiver()` 스레드 추가로 실시간 수신 처리 가능
    - `ClientMain`: 서버 연결 시도 및 수신 스레드 자동 실행 흐름 구성
    - `ClientState`: 닉네임, 점수, 문제 번호 등 클라이언트 내부 상태 저장 클래스 구현

3. **테스트 결과**
    - 서버 미작동 상태에서 `Connection refused` 발생 → 예외 정상 처리 확인
    - 서버와 연결이 되면 수신 스레드가 작동해 메시지를 지속적으로 수신할 준비 완료




클라이언트 흐름 구조
[ClientMain]
     |
     ↓
[SocketManager] ←→ (서버)
     ↑
     |
[ClientState]

- **ClientMain**: 클라이언트 프로그램 실행의 시작점. 서버에 연결하고 수신 스레드를 실행한다.
- **SocketManager**: 서버와의 실제 통신 담당. 메시지를 주고받고, 수신 스레드를 운영하며 연결 종료도 담당한다.
- **ClientState**: 클라이언트 내부에서 사용하는 게임 상태 데이터 보관소. 닉네임, 점수, 문제 번호 등을 저장하고 관리한다.





### **기능별 역할 정리**

### 1. `ClientMain.java`

**역할**

- 클라이언트 애플리케이션의 진입점
- 서버에 연결을 시도하고, 연결에 성공하면 수신 스레드 시작

**핵심 동작**

- 서버 IP/Port 설정
- `SocketManager` 객체 생성
- `connectToServer()` 호출
- 연결 성공 시 `startReceiver()` 호출

---

### 2. `SocketManager.java`

**역할**

- 서버와의 통신 전반 담당 (연결, 메시지 송수신, 연결 종료)
- 별도 스레드를 통해 서버로부터 메시지를 비동기 수신

**핵심 기능**

- `connectToServer(ip, port)`
    
    → 서버 연결 시도
    
- `sendMessage(msg)`
    
    → 메시지를 서버에 전송
    
- `receiveMessage()`
    
    → 메시지를 한 줄 수신
    
- `closeConnection()`
    
    → 연결 종료 및 자원 해제
    
- `startReceiver()`
    
    → 서버로부터 오는 메시지를 지속적으로 받는 스레드 시작
    

---

### 3. `ClientState.java`

**역할**

- 클라이언트의 게임 진행 상황을 저장하는 내부 상태 객체
- 서버와 직접 통신하지 않음

**저장 항목**

- 닉네임 (`nickname`)
- 점수 (`score`)
- 현재 문제 번호 (`currentQuestionIndex`)
- 연결 상태 (`connected`)

**주요 메서드**

- `increaseScore(points)` → 점수 증가
- `nextQuestion()` → 문제 번호 증가
- `setConnected(boolean)` → 연결 상태 설정
- `toString()` → 상태 요약 문자열 반환





### **주요코드 요약**

ClientMain.java
main(String[] args)	                    클라이언트 실행 진입점. 서버에 연결하고 수신 스레드 시작

---

SocketManager.java
connectToServer(String ip, int port)	  서버에 연결하고 입출력 스트림 설정
sendMessage(String msg)	                서버로 메시지를 전송
receiveMessage()	                      서버로부터 메시지를 한 줄 수신
closeConnection()	                      소켓 및 스트림을 종료하여 연결을 닫음
startReceiver()	                        별도 스레드로 서버로부터 지속적으로 메시지를 수신

---

ClientState.java
increaseScore(int points)	              점수를 누적시킴
nextQuestion()	                        문제 번호를 증가시킴
setConnected(boolean connected)	        서버 연결 상태를 설정함
getNickname(), getScore() 등	          내부 상태 접근용 getter 메서드
toString()	                            현재 상태를 문자열로 출력 (디버깅용)



